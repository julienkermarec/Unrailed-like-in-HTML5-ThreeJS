!function(e){var l={};function n(i){if(l[i])return l[i].exports;var r=l[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=l,n.d=function(e,l,i){n.o(e,l)||Object.defineProperty(e,l,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,l){if(1&l&&(e=n(e)),8&l)return e;if(4&l&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&l&&"string"!=typeof e)for(var r in e)n.d(i,r,function(l){return e[l]}.bind(null,r));return i},n.n=function(e){var l=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(l,"a",l),l},n.o=function(e,l){return Object.prototype.hasOwnProperty.call(e,l)},n.p="",n(n.s=3)}({3:function(e,l){function n(){water_bucket_position=[11,2],hache_position=[11,3],axe_position=[11,4],train_position=[9,9],train_length=7,train_counter=0,train_countdown=1e3,currentLane=7,currentColumn=12,currentLane=3,currentColumn=8,level_id=0,stock={rails:0,pierre:0,bois:0},level_distance=levels[level_id][0].length,player_pick=[],previousTimestamp=null,startMoving=!1,moves=[],directions=[],moves_players=[],player=new Player(currentLane,currentColumn),player.position.x=currentColumn*positionWidth*zoom,player.position.y=currentLane*positionWidth*zoom,scene.add(player),camera.position.y=initialCameraPositionY,camera.position.x=initialCameraPositionX,dirLight.position.x=initialDirLightPositionX,dirLight.position.y=initialDirLightPositionY,lanes=generateLanes(),train=generateTrain(),wwater=generateWagonWater(),wstock=generateWagonStock(),wrails=generateWagonRails(),train_smoke=new Smoke,wwater_smoke=new Smoke,train_smoke_default=new Smoke,train.add(train_smoke),scene.add(train),wwater_smoke.position.y=-20,wwater_smoke.visible=!1,wwater.add(wwater_smoke),scene.add(wwater),scene.add(wstock),scene.add(wrails),menu.style.display="none",started=!0,console.log("start")}function i(){return"forward"===direction?{lane:currentLane+1,column:currentColumn}:"backward"===direction?{lane:currentLane-1,column:currentColumn}:"left"===direction?{lane:currentLane,column:currentColumn-1}:"right"===direction?{lane:currentLane,column:currentColumn+1}:void 0}function r(){if(started&&(nextCell=i(),!(nextCell.column<0||nextCell.column>=columns||nextCell.lane<0)))return console.log("action nextCell",nextCell),console.log("action direction",direction),console.log("action",levels[level_id][nextCell.column][nextCell.lane]),"t"==levels[level_id][nextCell.column][nextCell.lane][1]&&"h"==player_pick[0]?function(e,l){if(console.log("cutForest currentColumn",currentColumn,e),console.log("cutForest currentLane",currentLane,l),!started)return;console.log("lanes[lane].mesh.children[column].children[1].position.z ",lanes[l].mesh.children[e].children[1].position.z),console.log("levels[level_id][column][lane]",levels[level_id][e][l]),lanes[l].mesh.children[e].children[1].position.z>-34?(lanes[l].mesh.children[e].children[1].position.z-=7,t()):(lanes[l].mesh.children[e].children[1].position.z=-40,levels[level_id][e][l]=levels[level_id][e][l][0]+"b",lanes[l].mesh.children[e].children[1].children[0].position.z=42,lanes[l].mesh.children[e].children[1].children[0].position.y=4,lanes[l].mesh.children[e].children[1].children[0].scale.x=2.5,lanes[l].mesh.children[e].children[1].children[0].scale.z=.3,lanes[l].mesh.children[e].children[1].children[1].position.z=42,lanes[l].mesh.children[e].children[1].children[1].position.y=-9,lanes[l].mesh.children[e].children[1].children[1].scale.x=2.5,lanes[l].mesh.children[e].children[1].children[1].scale.z=.3,lanes[l].mesh.children[e].children[1].children[2].scale.z=.1,lanes[l].mesh.children[e].children[1].children[2].scale.x=.1,lanes[l].mesh.children[e].children[1].children[2].scale.y=.1);return}(nextCell.column,nextCell.lane):"r"==levels[level_id][nextCell.column][nextCell.lane][1]&&"a"==player_pick[0]?function(e,l){if(console.log("cutForest currentColumn",currentColumn,e),console.log("cutForest currentLane",currentLane,l),!started)return;console.log("lanes[lane].mesh.children[column].children[1].position.z ",lanes[l].mesh.children[e].children[1].position.z),console.log("levels[level_id][column][lane]",levels[level_id][e][l]),lanes[l].mesh.children[e].children[1].position.z>-34?(lanes[l].mesh.children[e].children[1].position.z-=7,t()):(lanes[l].mesh.children[e].children[1].position.z=-40,levels[level_id][e][l]=levels[level_id][e][l][0]+"p",lanes[l].mesh.children[e].children[1].children[0].position.z=42,lanes[l].mesh.children[e].children[1].children[0].position.y=4,lanes[l].mesh.children[e].children[1].children[0].scale.x=2.5,lanes[l].mesh.children[e].children[1].children[0].scale.z=.3,lanes[l].mesh.children[e].children[1].children[1].position.z=42,lanes[l].mesh.children[e].children[1].children[1].position.y=-9,lanes[l].mesh.children[e].children[1].children[1].scale.x=2.5,lanes[l].mesh.children[e].children[1].children[1].scale.z=.3,lanes[l].mesh.children[e].children[1].children[2].scale.z=.1,lanes[l].mesh.children[e].children[1].children[2].scale.x=.1,lanes[l].mesh.children[e].children[1].children[2].scale.y=.1);return}(nextCell.column,nextCell.lane):void 0}function t(){statsRocksDOM.innerHTML=counter.p,statsWoodsDOM.innerHTML=counter.b,counterDOM.innerHTML=counter.r}function o(e){r(),directions.push(e)}function a(e,l=null){if(direction=e,channel){if(null!=l)return moves_players.push({userId:l,direction:direction});channel.send({type:"move",direction:direction})}if(finalPositions=moves.reduce((e,l)=>"forward"===l?{lane:e.lane+1,column:e.column}:"backward"===l?{lane:e.lane-1,column:e.column}:"left"===l?{lane:e.lane,column:e.column-1}:"right"===l?{lane:e.lane,column:e.column+1}:void 0,{lane:currentLane,column:currentColumn}),can_walk_ground=["e","w"],can_walk_addon=["t","r","m","s","d"],can_walk_train=["r","s","t","w"],"forward"===direction){if(finalPositions.lane+1>=level_distance)return o("forward");if(-1!==can_walk_ground.indexOf(levels[level_id][finalPositions.column][finalPositions.lane+1][0]))return o("forward");if(-1!==can_walk_addon.indexOf(levels[level_id][finalPositions.column][finalPositions.lane+1][1]))return o("forward");if(-1!==can_walk_train.indexOf(levels[level_id][finalPositions.column][finalPositions.lane+1][2]))return o("forward");stepStartTimestamp||(startMoving=!0),addLane()}else if("backward"===direction){if(finalPositions.lane<=0)return o("backward");if(console.log("next cell",levels[level_id][finalPositions.column][finalPositions.lane-1]),-1!==can_walk_ground.indexOf(levels[level_id][finalPositions.column][finalPositions.lane-1][0]))return o("backward");if(-1!==can_walk_addon.indexOf(levels[level_id][finalPositions.column][finalPositions.lane-1][1]))return o("backward");if(-1!==can_walk_train.indexOf(levels[level_id][finalPositions.column][finalPositions.lane-1][2]))return o("backward");stepStartTimestamp||(startMoving=!0)}else if("left"===direction){if(0===finalPositions.column)return;if(finalPositions.lane<0)stepStartTimestamp||(startMoving=!0);else{if(console.log("next cell",levels[level_id][finalPositions.column-1][finalPositions.lane]),-1!==can_walk_ground.indexOf(levels[level_id][finalPositions.column-1][finalPositions.lane][0]))return o("left");if(-1!==can_walk_addon.indexOf(levels[level_id][finalPositions.column-1][finalPositions.lane][1]))return o("left");if(-1!==can_walk_train.indexOf(levels[level_id][finalPositions.column-1][finalPositions.lane][2]))return o("left");stepStartTimestamp||(startMoving=!0)}}else if("right"===direction){if(finalPositions.column===columns-1)return;if(finalPositions.lane<0)stepStartTimestamp||(startMoving=!0);else{if(console.log("next cell",levels[level_id][finalPositions.column+1][finalPositions.lane]),-1!==can_walk_ground.indexOf(levels[level_id][finalPositions.column+1][finalPositions.lane][0]))return o("right");if(-1!==can_walk_addon.indexOf(levels[level_id][finalPositions.column+1][finalPositions.lane][1]))return o("right");if(-1!==can_walk_train.indexOf(levels[level_id][finalPositions.column+1][finalPositions.lane][2]))return o("right");stepStartTimestamp||(startMoving=!0)}}null==l&&moves.push(direction)}function c(e){if(requestAnimationFrame(c),previousTimestamp||(previousTimestamp=e),delta=e-previousTimestamp,previousTimestamp=e,dirLight.position.x=initialDirLightPositionX,started&&train_countdown<=-1){if(train_counter>=positionWidth*zoom){for(let e=train_position[1]-train_length;e<=train_position[1];e++)j=train_position[1]-e,j<=1?levels[level_id][train_position[0]][e]="glt":j<=2?levels[level_id][train_position[0]][e]="glw":j<=4?levels[level_id][train_position[0]][e]="gls":j<=6?levels[level_id][train_position[0]][e]="glr":7==j&&(levels[level_id][train_position[0]][e]="gl");y=train_position[1],y++,train_position=[train_position[0],y],train_counter=0}train_counter+=.01*delta,train.position.y+=.01*delta,wwater.position.y+=.01*delta,wstock.position.y+=.01*delta,wrails.position.y+=.01*delta,wwater.children[0].children[0].scale.z>0?wwater.children[0].children[0].scale.z-=2e-4:(train_smoke.children[0].material.color.setHex(colors.red),wwater_smoke.children[0].material.color.setHex(colors.red),wwater_smoke.visible=!0,1==wwater.children[0].children[0].visible&&(wwater.children[0].children[0].visible=!1,train_smoke.children[0].material.opacity=.99));let e=3e3;0==wwater.children[0].children[0].visible&&(e=9e3),train_smoke.position.z+=.002*delta,train_smoke.position.y-=.01*delta,train_smoke.scale.x+=25e-5*delta,train_smoke.scale.y+=25e-5*delta,train_smoke.scale.z+=25e-5*delta,train_smoke.children[0].material.opacity-=1/e*delta,0==wwater.children[0].children[0].visible&&(wwater_smoke.position.z+=.002*delta,wwater_smoke.position.y-=.01*delta,wwater_smoke.scale.x+=25e-5*delta,wwater_smoke.scale.y+=25e-5*delta,wwater_smoke.scale.z+=25e-5*delta,wwater_smoke.children[0].material.opacity-=1/e*delta),train_smoke.children[0].material.opacity<0&&(train_smoke.children[0].material.opacity=.99,train_smoke.position.z=train_smoke_default.position.z,train_smoke.scale.z=train_smoke_default.scale.z,train_smoke.scale.y=train_smoke_default.scale.y,train_smoke.scale.x=train_smoke_default.scale.x,train_smoke.position.y=train_smoke_default.position.y,0==wwater.children[0].children[0].visible&&(wwater_smoke.children[0].material.opacity=.99,wwater_smoke.position.z=train_smoke_default.position.z,wwater_smoke.scale.z=train_smoke_default.scale.z,wwater_smoke.scale.y=train_smoke_default.scale.y,wwater_smoke.scale.x=train_smoke_default.scale.x,wwater_smoke.position.y=-20)),camera.position.y+=.01*delta}else train_countdown>-1&&(train_countdown-=1,Number.isInteger(train_countdown/100)&&(train_countdown/100>0?(train.children[train_countdown/100+1].visible=!0,train_countdown/100<10&&(train.children[train_countdown/100+2].visible=!1)):(train.children[train_countdown/100+1].visible=!1,train.children[train_countdown/100+2].visible=!1)));if(startMoving&&(stepStartTimestamp=e,startMoving=!1),stepStartTimestamp){switch(moveDeltaTime=e-stepStartTimestamp,moveDeltaDistance=Math.min(moveDeltaTime/stepTime,1)*positionWidth*zoom,jumpDeltaDistance=8*Math.sin(Math.min(moveDeltaTime/stepTime,1)*Math.PI)*zoom,moves[0]){case"forward":positionY=currentLane*positionWidth*zoom+moveDeltaDistance,player.position.y=positionY,player.position.z=jumpDeltaDistance,player.rotation.z=Math.PI/2;break;case"backward":positionY=currentLane*positionWidth*zoom-moveDeltaDistance,player.position.y=positionY,player.position.z=jumpDeltaDistance,player.rotation.z=-Math.PI/2;break;case"left":positionX=currentColumn*positionWidth*zoom-moveDeltaDistance,player.position.x=positionX,player.position.z=jumpDeltaDistance,player.rotation.z=Math.PI;break;case"right":positionX=currentColumn*positionWidth*zoom+moveDeltaDistance,player.position.x=positionX,player.position.z=jumpDeltaDistance,player.rotation.z=0}let l=moves_players[0];if(null!=l){switch(l.direction){case"forward":players[l.userId].position.y+=positionWidth*zoom+moveDeltaDistance,players[l.userId].position.z=jumpDeltaDistance;break;case"backward":players[l.userId].position.y-=positionWidth*zoom+moveDeltaDistance,players[l.userId].position.z=jumpDeltaDistance;break;case"left":players[l.userId].position.x-=positionWidth*zoom+moveDeltaDistance,players[l.userId].position.z=jumpDeltaDistance;break;case"right":players[l.userId].position.x+=positionWidth*zoom+moveDeltaDistance,players[l.userId].position.z=jumpDeltaDistance}moves_players.shift()}if(moveDeltaTime>stepTime){switch(moves[0]){case"forward":currentLane++;break;case"backward":currentLane--;break;case"left":currentColumn--;break;case"right":currentColumn++}moves.shift(),stepStartTimestamp=0===moves.length?null:e}}else if(null!=directions[0]){switch(console.log("directions[0]",directions[0]),directions[0]){case"forward":player.rotation.z=Math.PI/2;break;case"backward":player.rotation.z=-Math.PI/2;break;case"left":player.rotation.z=Math.PI;break;case"right":player.rotation.z=0}directions.shift()}renderer.render(scene,camera),stats.update()}renderer=new THREE.WebGLRenderer({alpha:!0,antialias:!0}),String.prototype.replaceAt=function(e,l){return this.substr(0,e)+l+this.substr(e+l.length)},renderer.shadowMap.enabled=!0,renderer.shadowMap.type=THREE.PCFSoftShadowMap,renderer.setSize(window.innerWidth,window.innerHeight),document.body.appendChild(renderer.domElement),document.addEventListener("DOMContentLoaded",(function(){document.body.style.zoom=window.innerWidth/window.outerWidth,document.body.style.webkitTransform="scale(1)",document.body.style.msTransform="scale(1)",document.body.style.transform="scale(1)"})),document.querySelector("#retry").addEventListener("click",()=>{lanes.forEach(e=>scene.remove(e.mesh)),n(),endDOM.style.visibility="hidden"}),document.addEventListener("mousewheel",e=>{console.log("mousewheel",e),e.deltaY>0?camera.zoom-=.01:camera.zoom+=.01,camera.updateProjectionMatrix()},!1),document.getElementById("forward").addEventListener("click",()=>a("left")),document.getElementById("backward").addEventListener("click",()=>a("right")),document.getElementById("left").addEventListener("click",()=>a("backward")),document.getElementById("right").addEventListener("click",()=>a("forward")),window.addEventListener("keydown",e=>{"32"==e.keyCode?function(){if(console.log("pick",levels[level_id][currentColumn][currentLane]),!started)return;pick_item=levels[level_id][currentColumn][currentLane][1],pick_item_nb=parseInt(levels[level_id][currentColumn][currentLane][2]),pick_item_nb>=0||(pick_item_nb=" ");if(type_color="b"==pick_item?colors.bois:colors.metal,cell=i(),drop_cell=levels[level_id][cell.column]&&levels[level_id][cell.column]?levels[level_id][cell.column][cell.lane]:null,update_player=!1,console.log("cell",cell),console.log("player pick",player_pick),console.log("direction",direction),console.log("pick column",levels[level_id][currentColumn]),console.log("pick cell",levels[level_id][currentColumn][currentLane]),console.log("pick item",pick_item),console.log("pick_item_nb",pick_item_nb),console.log("drop_cell",drop_cell),need_to_drop=[],picked=!1,"h"==pick_item||"a"==pick_item||"w"==pick_item)console.log("pick == axe ou pickaxe ou waterbucket"),need_to_drop=player_pick,lanes[currentLane].mesh.children[currentColumn].children.pop(),levels[level_id][currentColumn][currentLane]=levels[level_id][currentColumn][currentLane].replaceAt(1," "),player_pick=[pick_item],update_player=!0;else if("b"==pick_item||"p"==pick_item){if(console.log("pick == bois ou pierre"),player_pick.length>=3)console.warn("cant pick more"),picked=!1,need_to_drop=player_pick;else{console.warn("picked true"),picked=!0,need_to_drop=player_pick,pick_item_nb<=3?(levels[level_id][currentColumn][currentLane]=levels[level_id][currentColumn][currentLane].replaceAt(1," "),levels[level_id][currentColumn][currentLane]=levels[level_id][currentColumn][currentLane].replaceAt(2," ")):levels[level_id][currentColumn][currentLane]=levels[level_id][currentColumn][currentLane].replaceAt(2,(pick_item_nb-3).toString());for(let e=0;e<=pick_item_nb&&e<3;e++)player_pick.push(pick_item),lanes[currentLane].mesh.children[currentColumn].children.pop()}update_player=!0}if(console.log("need_to_drop",need_to_drop),console.log("before drop",levels[level_id][currentColumn][currentLane]),console.log("drop_cell",drop_cell),console.log("player_pick",player_pick),null!=drop_cell&&"w"==drop_cell[0]&&player_pick.length>0&&"b"==player_pick[0]){console.log("drop == waterGround"),levels[level_id][cell.column][cell.lane]=levels[level_id][cell.column][cell.lane].replaceAt(0,"x");let e=new WaterGround;lanes[cell.lane].mesh.children[cell.column].add(e),player_pick.shift(),update_player=!0}else if(null!=drop_cell&&"s"==drop_cell[2]&&player_pick.length>0){if(console.log("drop == wagon stock"),"b"==player_pick[0]&&(index=1,start_at=counter.b,can_drop=6-start_at),"p"==player_pick[0]&&(index=2,start_at=counter.p,can_drop=6-start_at),can_drop>3&&(can_drop=player_pick.length),can_drop<=0&&(can_drop=6-start_at),can_drop>0){type_color="b"==player_pick[0]?colors.bois:colors.metal,can_drop>player_pick.length&&(can_drop=player_pick.length);for(let e=start_at;e<can_drop+start_at;e++)wstock.children[index].children[e].visible=!0,counter[player_pick[0]]++,player_pick.shift();update_player=!0,t()}update_player=!0,console.log("counter after",JSON.parse(JSON.stringify(counter)))}else if(null!=drop_cell&&"r"==drop_cell[2]&&0==player_pick.length&&stock.rails>0)console.log("drop == wagon rails"),player_pick=["r","r","r"],update_player=!0;else if(null!=drop_cell&&(" "==pick_item&&player_pick.length>0&&"w"==player_pick[0]||"w"==need_to_drop[0]))console.log("drop == water bucket"),lanes[currentLane].mesh.children[currentColumn].add(new WaterBucket),levels[level_id][currentColumn][currentLane]=levels[level_id][currentColumn][currentLane].replaceAt(1,"w"),update_player=!0,"w"!=need_to_drop[0]&&(player_pick=[]);else if(null!=drop_cell&&(" "==pick_item&&player_pick.length>0&&"h"==player_pick[0]||"h"==need_to_drop[0]))console.log("drop == hache"),lanes[currentLane].mesh.children[currentColumn].add(new Hache),levels[level_id][currentColumn][currentLane]=levels[level_id][currentColumn][currentLane].replaceAt(1,"h"),update_player=!0,"h"!=need_to_drop[0]&&(player_pick=[]);else if(null!=drop_cell&&(" "==pick_item&&player_pick.length>0&&"a"==player_pick[0]||"a"==need_to_drop[0]))console.log("drop == axe"),lanes[currentLane].mesh.children[currentColumn].add(new Axe),levels[level_id][currentColumn][currentLane]=levels[level_id][currentColumn][currentLane].replaceAt(1,"a"),update_player=!0,"a"!=need_to_drop[0]&&(player_pick=[]);else if(!picked&&null!=drop_cell&&" "==drop_cell[1]&&player_pick.length>0&&("b"==player_pick[0]||"p"==player_pick[0]))if(console.log("drop == bois sur g / o / b",player_pick),player_pick.length>0&&player_pick[0]!=levels[level_id][currentColumn][currentLane][1]&&" "!=levels[level_id][currentColumn][currentLane][1])console.warn("cant drop on diffrent type"),type_color="b"==player_pick[0]?colors.bois:colors.metal;else{levels[level_id][currentColumn][currentLane]=levels[level_id][currentColumn][currentLane].replaceAt(1,player_pick[0]),start_at=pick_item_nb>0?pick_item_nb:0,player_pick.length>1&&(levels[level_id][currentColumn][currentLane]=levels[level_id][currentColumn][currentLane].replaceAt(2,(start_at+player_pick.length).toString()));for(let e=start_at;e<player_pick.length+start_at;e++)"b"==player_pick[0]?sb=new Stock("bois"):sb=new Stock("metal"),sb.position.y=-25,sb.position.z=3*e-2,e%2!=0&&(sb.rotation.z=Math.PI,sb.position.x=positionWidth,sb.position.y=-4),lanes[currentLane].mesh.children[currentColumn].add(sb);update_player=!0,"b"==need_to_drop[0]&&"p"==need_to_drop[0]||(player_pick=[])}if(1==update_player)if(console.log("update_player",update_player),console.log("player_pick",player_pick),console.log("type_color",type_color),player_pick.length>0)"b"==player_pick[0]||"p"==player_pick[0]?(player_pick.length>=1&&(player.children[2].children[2].visible=!0,player.children[2].children[3].visible=!0,player.children[2].children[2].material.color.setHex(type_color),player.children[2].children[3].material.color.setHex(type_color),player.children[2].children[4].visible=!1,player.children[2].children[5].visible=!1),player_pick.length>=2&&(player.children[2].children[4].visible=!0,player.children[2].children[5].visible=!0,player.children[2].children[4].material.color.setHex(type_color),player.children[2].children[5].material.color.setHex(type_color),player.children[2].children[6].visible=!1,player.children[2].children[7].visible=!1),player_pick.length>=3&&(player.children[2].children[6].visible=!0,player.children[2].children[7].visible=!0,player.children[2].children[6].material.color.setHex(type_color),player.children[2].children[7].material.color.setHex(type_color))):"r"==player_pick[0]?(player.children[2].children[8].visible=!0,player.children[2].children[9].visible=!0,player.children[2].children[10].visible=!0):"w"==player_pick[0]?(player.children[2].children[11].visible=!0,player.children[2].children[12].visible=!1,player.children[2].children[13].visible=!1):"h"==player_pick[0]?(player.children[2].children[11].visible=!1,player.children[2].children[12].visible=!0,player.children[2].children[13].visible=!1):"a"==player_pick[0]&&(player.children[2].children[11].visible=!1,player.children[2].children[13].visible=!0,player.children[2].children[12].visible=!1),player.children[2].children[1].rotation.x=Math.PI/2,player.children[2].children[1].rotation.y=Math.PI/2,player.children[2].children[1].position.x=10,player.children[2].children[0].rotation.x=Math.PI/2,player.children[2].children[0].rotation.y=Math.PI/2,player.children[2].children[0].position.x=10;else if(0==player_pick.length){player.children[2].children[1].rotation.x=0,player.children[2].children[1].rotation.y=0,player.children[2].children[1].position.x=0,player.children[2].children[0].rotation.x=0,player.children[2].children[0].rotation.y=0,player.children[2].children[0].position.x=0;for(let e=2;e<=6;e+=2)player.children[2].children[e].visible=!1,player.children[2].children[e+1].visible=!1;player.children[2].children[8].visible=!1,player.children[2].children[9].visible=!1,player.children[2].children[10].visible=!1,player.children[2].children[11].visible=!1,player.children[2].children[12].visible=!1,player.children[2].children[13].visible=!1}console.log("pick column after",levels[level_id][currentColumn])}():"38"==e.keyCode?a("left"):"40"==e.keyCode?a("right"):"37"==e.keyCode?a("backward"):"39"==e.keyCode&&a("forward")}),window.addEventListener("DOMContentLoaded",e=>{!function(){initialCameraPositionY+=400,initialCameraPositionX+=300,camera.position.y=initialCameraPositionX,camera.position.x=initialCameraPositionY,camera.position.z=distance,currentLane=3,currentColumn=columns/2,hemiLight=new THREE.HemisphereLight(16777215,16777215,.6),scene.add(hemiLight),dirLight=new THREE.DirectionalLight(16777215,.6),dirLight.position.set(initialDirLightPositionX,initialDirLightPositionY,400),dirLight.castShadow=!0,scene.add(dirLight),dirLight.shadow.mapSize.width=2048,dirLight.shadow.mapSize.height=2048;var e=800;dirLight.shadow.camera.left=e,dirLight.shadow.camera.right=-e,dirLight.shadow.camera.top=-e,dirLight.shadow.camera.bottom=e,backLight=new THREE.DirectionalLight(0,.4),backLight.position.set(200,200,50),backLight.castShadow=!0}(),n(),t(),renderer.render(scene,camera),requestAnimationFrame(c),window.scene=scene,window.THREE=THREE})}});